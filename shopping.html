<!DOCTYPE html>
<html>
<head>
    <title>YouNELL. Список продуктов</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
</head>
<body>

<div class="main2 back-fridge">
    <div class="header">
        <a href="timeline.html" class="back-a"><img src="img/double-left-arrows.svg"/></a>
        <span class="page-title">Список продуктов</span>
        <a href="#" class="cart"><img src="img/icon-back.png"></a>
    </div>
    <div class="content shopping wrapper-shopping">
        <div class="wrapper-days">
            <p data-name="Сегодня" class="day-active day-today">12.09</p>
            <p data-name="Завтра" class="day-tomorrow">12.09</p>
            <p data-name="Неделя" class="day-week">12.09</p>
        </div>
        <div class="swiper-container shoes">
            <div class="swiper-wrapper">
                <div class="swiper-slide" data-name="Сегодня">
                    <div class="content">
                        
                        <div class="day-graduation day-graduation-breakfast">
                            <p class="graduation-breakfast">Завтрак</p>

                        
                            <div class="container-shop  wrapper-shop">
                                <div class="wrapper-shop-product">
                                    <span class="eat-name">Бурый рис</span>
                                    <span class="eat-weight-green">500 г</span>
                                </div>
                                <!--<span class="bought">Куплен</span>-->
                                <div class="wrapper-shop-checkbox">
                                    <input type="checkbox" class="checkbox-green"  name="box1" value="10">
                                    <label class="stylized-checkbox" ></label>
                                </div>
                            </div>
                            <div class="container-shop  wrapper-shop">
                                <div class="wrapper-shop-product">
                                    <span class="eat-name">Бурый рис</span>
                                    <span class="eat-weight-green">500 г</span>
                                </div>
                                <div class="wrapper-shop-checkbox">
                                    <input type="checkbox" class="checkbox-green"  name="box1" value="10">
                                    <label class="stylized-checkbox" ></label>
                                </div>
                            </div>
                        </div>


                        <div class="day-graduation day-graduation-breakfast">
                            <p class="graduation-breakfast">Обед</p>

                            <div class="container-shop  wrapper-shop">
                                <div class="wrapper-shop-product">
                                    <span class="eat-name">Бурый рис</span>
                                    <span class="eat-weight-green">500 г</span>
                                </div>
                                <div class="wrapper-shop-checkbox">
                                    <input type="checkbox" class="checkbox-green" name="box1" value="10">
                                    <label class="stylized-checkbox"></label>
                                </div>
                            </div>
                            <div class="container-shop  wrapper-shop">
                                <div class="wrapper-shop-product">
                                    <span class="eat-name">Бурый рис</span>
                                    <span class="eat-weight-green">500 г</span>
                                </div>
                                <div class="wrapper-shop-checkbox">
                                    <input type="checkbox" class="checkbox-green" name="box1" value="10">
                                    <label class="stylized-checkbox"></label>
                                </div>
                            </div>
                        </div>

                        <div class="day-graduation day-graduation-breakfast">
                            <p class="graduation-breakfast">Ужин</p>

                            <div class="container-shop  wrapper-shop">
                                <div class="wrapper-shop-product">
                                    <span class="eat-name">Бурый рис</span>
                                    <span class="eat-weight-green">500 г</span>
                                </div>
                                <div class="wrapper-shop-checkbox">
                                    <input type="checkbox" class="checkbox-green" name="box1" value="10">
                                    <label class="stylized-checkbox"></label>
                                </div>
                            </div>
                            <div class="container-shop  wrapper-shop">
                                <div class="wrapper-shop-product">
                                    <span class="eat-name">Бурый рис</span>
                                    <span class="eat-weight-green">500 г</span>
                                </div>
                                <div class="wrapper-shop-checkbox">
                                    <input type="checkbox" class="checkbox-green" name="box1" value="10">
                                    <label class="stylized-checkbox"></label>
                                </div>
                            </div>
                        </div>

                        <div class="day-graduation day-graduation-breakfast">
                            <p class="graduation-breakfast">Перекус</p>

                        <div class="container-shop  wrapper-shop">
                            <div class="wrapper-shop-product">
                                <span class="eat-name">Бурый рис</span>
                                <span class="eat-weight-green">500 г</span>
                            </div>
                            <div class="wrapper-shop-checkbox">
                                <input type="checkbox" class="checkbox-green"  name="box1" value="10">
                                <label class="stylized-checkbox" ></label>
                            </div>
                        </div>
                        <div class="container-shop  wrapper-shop">
                            <div class="wrapper-shop-product">
                                <span class="eat-name">Бурый рис</span>
                                <span class="eat-weight-green">500 г</span>
                            </div>
                            <div class="wrapper-shop-checkbox">
                                <input type="checkbox" class="checkbox-green"  name="box1" value="10">
                                <label class="stylized-checkbox" ></label>
                            </div>
                        </div>
                            </div>
                    </div>
                </div>
            <div class="swiper-slide" data-name="Завтра">
                <div class="content">
                    <div class="container-shop">
                        <span class="eat-name">Гречка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Гречка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Гречка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Гречка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Гречка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Гречка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Гречка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-name="Неделя">
                <div class="content">
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                    <div class="container-shop">
                        <span class="eat-name">Индейка</span>
                        <span class="eat-weight-green">500 г</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="swiper-pagination pag-shoes swiper-pagination-articles"></div>
    </div>
        <!--<div class="ok-product">-->
            <!--<span class="shop-title">Купленные</span>-->
            <!--<div class="container-shop">-->
                <!--<span class="eat-name">Индейка</span>-->
                <!--<span class="eat-weight-green">500 г</span>-->
            <!--</div>-->
            <!--<div class="container-shop">-->
                <!--<span class="eat-name">Индейка</span>-->
                <!--<span class="eat-weight-green">500 г</span>-->
            <!--</div>-->
            <!--<div class="container-shop">-->
                <!--<span class="eat-name">Индейка</span>-->
                <!--<span class="eat-weight-green">500 г</span>-->
            <!--</div>-->
        <!--</div>-->
    </div>
</div>

<script type="text/javascript" src="js/jquery1.9.1.js"></script>
<script type="text/javascript" src="js/swiper.min.js"></script>
<script type="text/javascript" src="js/moment.js"></script>


<script>
    var mySwiper2 = new Swiper('.swiper-container.shoes', {
        // Optional parameters
        pagination: '.pag-shoes',
        paginationClickable: true,
        loop: true,
        spaceBetween: 30,
        initialSlide: 0,

//        paginationType: "custom",
        paginationCustomRender: function (swiper, current, total) {
            var names = [];
            $(".swiper-wrapper .swiper-slide").each(function (i) {
                names.push($(this).data("name"));
            });
            var text = "<div class='slider-custom-pagination'>";
            for (var i = 1; i <= total; i++) {
                if (current == i) {
                    text += "<span class='article-type-current article-type'>" + names[i] + "</span>";
                } else {
                    text += "<span class='article-type'>" + names[i] + "</span>";
                }
            }
            text += "</div>";
            return text;
        }

    });
    mySwiper2.on('transitionStart', function () {
        var dat = $(".swiper-slide-active").data("name");
//        alert(dat);
        $(".wrapper-days p").removeClass("day-active");
        $(".wrapper-days p[data-name="+dat+"]").addClass("day-active");

    });

    $(window).load(function(){
        $(".pag-shoes .swiper-pagination-bullet").addClass("article-type");

        $(".pag-shoes .swiper-pagination-bullet").eq(0).text("Сегодня");
        $(".pag-shoes .swiper-pagination-bullet").eq(1).text("Завтра");
        $(".pag-shoes .swiper-pagination-bullet").eq(2).text("На неделю");
    });


    //Установка дат

    var now = moment();

    var current_day = now.format('DD.MM');
    var next_day =now.add('days', 1).format('DD.MM');

    var begin_week = now.startOf('week').add('days', 1).format('DD.MM');
    var end_week = now.endOf('week').add('days', 1).format('DD.MM');



    //Подставляю даты на страницу
    $(".wrapper-days .day-today").text(current_day);
    $(".wrapper-days .day-tomorrow").text(next_day);
    $(".wrapper-days .day-week").text(begin_week +" - " +  end_week);





    //Задаю циклом id инпутам и for лэйблам для стилизованных чекбоксов id="box1" for="box1"

    $('.wrapper-shopping .checkbox-green').each(function(i) {
        $(this).attr('id', 'box'+(i+1))
    });

    $('.stylized-checkbox').each(function(i) {
        $(this).attr('for', 'box'+(i+1))
    });


    var new_text = "<span class='bought'>Куплен</span>";

    $(".wrapper-shop-checkbox .checkbox-green").on("change",function(){
        var cont = $(this).parents(".wrapper-shop").find(".wrapper-shop-product");
        if ($(this).prop('checked')) {
            $(this).parents(".wrapper-shop").find(".wrapper-shop-product").css("opacity","0.3");
            $(this).parents(".wrapper-shop").find(".wrapper-shop-product .eat-name").addClass("cross-out");
            $(cont).after(new_text);

        } else {
            $(this).parents(".wrapper-shop").find(".wrapper-shop-product").css("opacity","1");
            $(this).parents(".wrapper-shop").find(".wrapper-shop-product .eat-name").removeClass("cross-out");
            $(this).parents(".wrapper-shop").find("span.bought").remove();
        }


    });




</script>
</body>
</html>