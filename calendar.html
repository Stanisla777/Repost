<!DOCTYPE html>
<html>
<head>
    <title>YouNELL. Превью</title>
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta content='true' name='HandheldFriendly'/>
    <meta content='width' name='MobileOptimized'/>
    <meta content='yes' name='apple-mobile-web-app-capable'/>
    <meta name="google" value="notranslate">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" type="text/css" href="css/calendar.css" />
    <link rel="stylesheet" type="text/css" href="css/custom_2.css" />
    <link rel="stylesheet" href="css/style.css">
    <script src="js/modernizr.custom.63321.js"></script>
</head>
<body>
<nav class="pushy pushy-left" data-focus="#first-link">
    <div class="pushy-content">
        <!--<ul>-->
        <!--для создания дополнительных списков использовать макет снизу-->
        <!--<li class="pushy-submenu">
            <button>Submenu 4</button>
            <ul>
                <li class="pushy-link"><a href="#">Item 1</a></li>
                <li class="pushy-link"><a href="#">Item 2</a></li>
                <li class="pushy-link"><a href="#">Item 3</a></li>
            </ul>
        </li>-->
        <!--<li class="pushy-link"><a href="#">Item 1</a></li></ul>-->
        <div class="personal-photo">
            <img src="img/trainer.png">
        </div>
        <span class="personal-name">Роман Квартальнов</span>
        <span class="separate-dotted"></span>
        <ul class="personal-menu">
            <li class="personal-li-graph"><a href="timeline.html">График</a></li>
            <li class="personal-li-freeze"><a href="cooler.html">Холодильник</a></li>
            <li class="personal-li-history"><a href="#">История</a></li>
            <li class="personal-li-articles"><a href="articles.html">Статьи</a></li>
            <li class="personal-li-social"><a href="chat.html">Чат</a></li>
        </ul>
        <span class="separate-dotted"></span>
        <a href="#" class="personal-quit">Выйти</a>

    </div>
</nav>
<div class="site-overlay"></div>
<div class="main2 timeline">
    <div class="header">
        <button class="menu-btn">
            <span class="menu-btn-span first-span"></span>
            <span class="menu-btn-span second-span"></span>
            <span class="menu-btn-span last-span"></span>
        </button>
        <span class="page-title">История</span>
        <a href="shopping.html" class="cart"><img src="img/icon-calendart.png"></a>
    </div>
    <div class="content">
        <section class="main-calendar">
            <div class="custom-calendar-wrap">
                <div id="custom-inner" class="custom-inner">
                    <div class="custom-header clearfix">
                        <nav>
                            <span id="custom-prev" class="custom-prev"></span>
                            <span id="custom-next" class="custom-next"></span>
                        </nav>
                        <h2 id="custom-month" class="custom-month">November</h2>
                        <!--<h3 id="custom-year" class="custom-year">2017</h3>-->
                    </div>
                    <div id="calendar" class="fc-calendar-container"><div class="fc-calendar fc-five-rows"><div class="fc-head"><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div></div><div class="fc-body"><div class="fc-row"><div></div><div></div><div><span class="fc-date">1</span><span class="fc-weekday">Wed</span></div><div><span class="fc-date">2</span><span class="fc-weekday">Thu</span></div><div><span class="fc-date">3</span><span class="fc-weekday">Fri</span></div><div><span class="fc-date">4</span><span class="fc-weekday">Sat</span></div><div><span class="fc-date">5</span><span class="fc-weekday">Sun</span></div></div><div class="fc-row"><div><span class="fc-date">6</span><span class="fc-weekday">Mon</span></div><div><span class="fc-date">7</span><span class="fc-weekday">Tue</span></div><div><span class="fc-date">8</span><span class="fc-weekday">Wed</span></div><div><span class="fc-date">9</span><span class="fc-weekday">Thu</span></div><div><span class="fc-date">10</span><span class="fc-weekday">Fri</span></div><div><span class="fc-date">11</span><span class="fc-weekday">Sat</span></div><div><span class="fc-date">12</span><span class="fc-weekday">Sun</span></div></div><div class="fc-row"><div><span class="fc-date">13</span><span class="fc-weekday">Mon</span></div><div><span class="fc-date">14</span><span class="fc-weekday">Tue</span></div><div><span class="fc-date">15</span><span class="fc-weekday">Wed</span></div><div><span class="fc-date">16</span><span class="fc-weekday">Thu</span></div><div><span class="fc-date">17</span><span class="fc-weekday">Fri</span></div><div><span class="fc-date">18</span><span class="fc-weekday">Sat</span></div><div><span class="fc-date">19</span><span class="fc-weekday">Sun</span></div></div><div class="fc-row"><div><span class="fc-date">20</span><span class="fc-weekday">Mon</span></div><div><span class="fc-date">21</span><span class="fc-weekday">Tue</span></div><div><span class="fc-date">22</span><span class="fc-weekday">Wed</span></div><div><span class="fc-date">23</span><span class="fc-weekday">Thu</span></div><div><span class="fc-date">24</span><span class="fc-weekday">Fri</span></div><div><span class="fc-date">25</span><span class="fc-weekday">Sat</span></div><div><span class="fc-date">26</span><span class="fc-weekday">Sun</span></div></div><div class="fc-row"><div><span class="fc-date">27</span><span class="fc-weekday">Mon</span></div><div><span class="fc-date">28</span><span class="fc-weekday">Tue</span></div><div><span class="fc-date">29</span><span class="fc-weekday">Wed</span></div><div><span class="fc-date">30</span><span class="fc-weekday">Thu</span></div><div></div><div></div><div></div></div></div></div></div>
                </div>
            </div>
        </section>

        <section class="wrapper-calendar">
            <div class="wrapper-day-history">
                <h2 class="date-history"><span class="cal-day">14</span> <span class="cal-month">сентября</span></h2>
                <p class="weight-history">74.4 <span>кг</span></p>
                <p class="status-methodology">Без соблюдения методики</p>
                <div class="wrapper-history-eat">
                    <p class="day-weight">10 г</p>
                    <div style="background-image: url('img/weight-minus.png')" class="status-eat"></div>
                    <div class="wrapper-day-description">
                        <div class=" wrapper-reriod-eat">
                            <p class="type-reriod-eat">Завтрак</p>
                        </div>
                        <div class="wrapper-test-dish">
                            <p class="type-dish">Яйца</p>
                            <p class="stus-dish">Тестируемое блюдо</p>
                        </div>
                    </div>
                </div>
            </div>

            <!--<div class="wrapper-day-history">-->
                <!--<h2 class="date-history">14 сентября</h2>-->
                <!--<p class="weight-history">74.4 <span>кг</span></p>-->
                <!--<p class="status-methodology">Без соблюдения методики</p>-->
                <!--<div class="wrapper-history-eat">-->
                    <!--<p class="day-weight">10 г</p>-->
                    <!--<div style="background-image: url('img/weight-plus.png')" class="status-eat"></div>-->
                    <!--<div class="wrapper-day-description">-->
                        <!--<div class=" wrapper-reriod-eat">-->
                            <!--<p class="type-reriod-eat">Завтрак</p>-->
                        <!--</div>-->
                        <!--<div class="wrapper-test-dish">-->
                            <!--<p class="type-dish">Яйца</p>-->
                            <!--<p class="stus-dish">Тестируемое блюдо</p>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </section>


    </div>
</div>

<script type="text/javascript" src="js/jquery1.9.1.js"></script>
<script type="text/javascript" src="js/jquery.calendario.js"></script>
<script type="text/javascript" src="js/data.js"></script>
<script src="js/swiper.min.js"></script>
<script src="js/jquery.touchSwipe.js"></script>
<script type="text/javascript">


    var r;

    $(function() {

        var transEndEventNames = {
                    'WebkitTransition' : 'webkitTransitionEnd',
                    'MozTransition' : 'transitionend',
                    'OTransition' : 'oTransitionEnd',
                    'msTransition' : 'MSTransitionEnd',
                    'transition' : 'transitionend'
                },
                transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],
                $wrapper = $( '#custom-inner' ),
                $calendar = $( '#calendar' ),

        //Сюда можно вешать события по клику на день

                cal = $calendar.calendario( {
                    onDayClick : function( $el, $contentEl, dateProperties ) {

                        if( $contentEl.length > 0 ) {
                            showEvents( $contentEl, dateProperties );
                        }
//                   $el.hide(); // - как пример, день по которому кликнули пропадет

                        history_day($el);

                    },
                    caldata : codropsEvents,
                    displayWeekAbbr : true
                } ),
                $month = $( '#custom-month' ).html( cal.getMonthName() ),
                $year = $( '#custom-year' ).html( cal.getYear() );



        //Перемещение календаря влево-вправо по клику и swipe

        $( '#custom-next' ).on( 'click', function() {
            cal.gotoNextMonth( updateMonthYear );
            weight_height();
            show_example();
            inactive();

        } );
        $( '#custom-prev' ).on( 'click', function() {
            cal.gotoPreviousMonth( updateMonthYear );
            weight_height();
            show_example();
            inactive();
//            alert(cal.getMonth());
        } );

        $(".custom-header").swipe({
            swipeLeft:function(event, direction, distance, duration, fingerCount) {
                cal.gotoNextMonth( updateMonthYear );
                weight_height();
                show_example();
                inactive();
            }
        });
        $(".custom-header").swipe({
            swipeRight:function(event, direction, distance, duration, fingerCount) {
                cal.gotoPreviousMonth( updateMonthYear );
                weight_height();
                show_example();
                inactive();
            }
        });




        //Подставляем название месяца и года(сейчас он скрыт)
        function updateMonthYear() {
            $month.html( cal.getMonthName() );
            $year.html( cal.getYear() );



        }

        // just an example..
        function showEvents( $contentEl, dateProperties ) {

            hideEvents();

            var $events = $( '<div id="custom-content-reveal" class="custom-content-reveal"><h4>Events for ' + dateProperties.monthname + ' ' + dateProperties.day + ', ' + dateProperties.year + '</h4></div>' ),
                    $close = $( '<span class="custom-content-close"></span>' ).on( 'click', hideEvents );

            $events.append( $contentEl.html() , $close ).insertAfter( $wrapper );

            setTimeout( function() {
                $events.css( 'top', '0%' );
            }, 25 );

        }
        function hideEvents() {

            var $events = $( '#custom-content-reveal' );
            if( $events.length > 0 ) {

                $events.css( 'top', '100%' );
                Modernizr.csstransitions ? $events.on( transEndEventName, function() { $( this ).remove(); } ) : $events.remove();

            }

        }

        // Ширина = высоте блоков календаря

        function weight_height(){
            r = $(".fc-calendar  .fc-row  div").width();
            $(".fc-calendar .fc-row  div").height(r);
        }
        weight_height();


        /*Для демонстрации цветных дней месяца - это потом убрать*/
        function show_example(){
            var e = cal.getMonthName();
            if(e=="Октябрь"){

                $(".fc-calendar .fc-body .fc-row:eq(2)  div:eq(3)").addClass("client-fat");
                $(".fc-calendar .fc-body .fc-row:eq(1)  div:eq(2)").addClass("client-slim");
                $(".fc-calendar .fc-body .fc-row:eq(1)  div:eq(4)").addClass("client-not_change");
            }
        }
        show_example();



        //Вывод информации по дням
        function history_day($el){
            $(".fc-calendar .fc-row  div").removeClass("client-this-day");
            $el.addClass("client-this-day");
            $(".wrapper-day-history").show();
            var day = $el.find(".fc-date").text();
            var month_d = $el.parents("#calendar").siblings(".custom-header").find(".custom-month").text();


//            var reg = /ь/g;
//            var reg_2=/март/g;
            month_d = month_d.replace(/ь/g, "я");
            month_d = month_d.replace(/март/ig, "марта");
            month_d = month_d.replace(/май/ig, "мая");
            month_d = month_d.replace(/август/ig, "августа");
            $(".wrapper-day-history span.cal-day").text(day);
            $(".wrapper-day-history span.cal-month").text(month_d);
        }



        Data = new Date();
        cur_day = Data.getDate();
//        var cur_day = $(".fc-today").text();
//        cur_day = parseInt (cur_day);

        var monthh = cal.getMonth();
        var year = cal.getYear();




        function inactive(){





            $('.fc-date').each(function(i,elem) {
                var day = $(this).text();


                day = parseInt (day);



                /*Додумать*/
                if ((day>cur_day&&cal.getMonth()==monthh) || (cal.getMonth()>monthh )||(cal.getYear()>year)) {
                    $(this).addClass("colo-red")
                }
            });
        }
        inactive();






    });

    //Если что-то захотим повесить на день при клике
    $(document).on("click",".fc-calendar .fc-row  div",function(){

    })


</script>
</body>
</html>